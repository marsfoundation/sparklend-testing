pool.repay()
├── when amount is zero
   └── it should revert (boundary)
├── when amount is uint256 max and msg.sender is not onBehalfOf
   └── it should revert
├── given not active
   └── it should revert
├── given paused
   └── it should revert
├── when there is no debt to be repaid (no variable debt)
   └── it should revert
├── when user doesn't have enough aTokens to repay
    └── it should revert (boundary)
├── when user doesn't have enough underlying to repay
    └── it should revert (boundary)
├── given no time has passed since borrow
    ├── given reserve is NOT in isolation mode
        ├── when user is repaying with aToken
            └── when user is paying with uint256 max
                └── when the aToken balance less than the debt
                    └── it should repay the debt corresponding to the aToken balance, user is still borrowing [01]
                └── when the aToken balance is greater than the debt
                    └── it should repay the debt corresponding to the total debt, user is no longer borrowing [02]
                └── when the aToken balance is equal to the debt
                    └── it should repay the debt corresponding to the total debt, user is no longer borrowing [03]
        ├── when user is repaying with underlying
            └── when user is paying all debt
                └── it should repay all debt, user is no longer borrowing [04]
            └── when user is paying with uint256 max
                └── it should repay some of the debt, user is still borrowing [05]
    ├── given reserve is in isolation mode (same tree as above, updating isolation debt)
        └├── when user is repaying with aToken
            └── when user is paying with uint256 max
                └── when the aToken balance less than the debt
                    └── it should repay the debt corresponding to the aToken balance, user is still borrowing [06]
                └── when the aToken balance is greater than the debt
                    └── it should repay the debt corresponding to the total debt, user is no longer borrowing [07]
                └── when the aToken balance is equal to the debt
                    └── it should repay the debt corresponding to the total debt, user is no longer borrowing [08]
        ├── when user is repaying with underlying
            └── when user is paying all debt
                └── it should repay all debt, user is no longer borrowing [09]
            └── when user is paying with uint256 max
                └── it should repay some of the debt, user is still borrowing [10]
├── given some time has passed since borrow (same tree as above, updating indexes)
    ├── given reserve is NOT in isolation mode
        ├── when user is repaying with aToken
            └── when user is paying with uint256 max
                └── when the aToken balance less than the debt
                    └── it should repay the debt corresponding to the aToken balance, user is still borrowing [12]
                └── when the aToken balance is greater than the debt
                    └── it should repay the debt corresponding to the total debt, user is no longer borrowing [13]
                └── when the aToken balance is equal to the debt
                    └── it should repay the debt corresponding to the total debt, user is no longer borrowing [14]
        ├── when user is repaying with underlying
            └── when user is paying all debt
                └── it should repay all debt, user is no longer borrowing [15]
            └── when user is paying with uint256 max
                └── it should repay some of the debt, user is still borrowing [16]
    ├── given reserve is in isolation mode (same tree as above, updating isolation debt)
        └├── when user is repaying with aToken
            └── when user is paying with uint256 max
                └── when the aToken balance less than the debt
                    └── it should repay the debt corresponding to the aToken balance, user is still borrowing [17]
                └── when the aToken balance is greater than the debt
                    └── it should repay the debt corresponding to the total debt, user is no longer borrowing [18]
                └── when the aToken balance is equal to the debt
                    └── it should repay the debt corresponding to the total debt, user is no longer borrowing [19]
        ├── when user is repaying with underlying
            └── when user is paying all debt
                └── it should repay all debt, user is no longer borrowing [20]
            └── when user is paying with uint256 max
                └── it should repay some of the debt, user is still borrowing [21]






